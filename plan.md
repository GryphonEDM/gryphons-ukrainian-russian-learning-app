Plan to implement                                                                                                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                                                                       │
│ Plan: Add Russian Language Support with Full Parity                                                                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                                                                       │
│ Overview                                                                                                                                                                                                                                                                                              │
│                                                                                                                                                                                                                                                                                                       │
│ Add Russian as a second language to the typing game with a language switcher, full vocabulary parity (~8500 words), all modes, and separate progress tracking. Russian TTS will reuse the existing Ukrainian TTS engine for now.                                                                      │
│                                                                                                                                                                                                                                                                                                       │
│ ---                                                                                                                                                                                                                                                                                                   │
│ Phase 1: Language Infrastructure                                                                                                                                                                                                                                                                      │
│                                                                                                                                                                                                                                                                                                       │
│ 1.1 Create src/data/languageConfig.js                                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                       │
│ Central registry that maps language codes to their data. Exports:                                                                                                                                                                                                                                     │
│ - LANGUAGES object with uk and ru entries                                                                                                                                                                                                                                                             │
│ - Each entry has: code, name, nativeName, flag, targetField ('uk' or 'ru'), storageKey, vowels, alphabetSize, keyboard/lesson/vocab references                                                                                                                                                        │
│ - getLanguageData(langCode) accessor function                                                                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                                                                       │
│ 1.2 Create src/data/ru/keyboard.js                                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                       │
│ Russian JCUKEN keyboard layout (same schema as src/data/keyboard.js but with ru field):                                                                                                                                                                                                               │
│ Row 1: й(q) ц(w) у(e) к(r) е(t) н(y) г(u) ш(i) щ(o) з(p) х([) ъ(])                                                                                                                                                                                                                                    │
│ Row 2: ф(a) ы(s) в(d) а(f) п(g) р(h) о(j) л(k) д(l) ж(;) э(')                                                                                                                                                                                                                                         │
│ Row 3: я(z) ч(x) с(c) м(v) и(b) т(n) ь(m) б(,) ю(.) .(/)                                                                                                                                                                                                                                              │
│ Special: ё(`)                                                                                                                                                                                                                                                                                         │
│ Exports: RUSSIAN_KEYBOARD, RU_TO_QWERTY, RU_LETTER_INFO, cleanSoundForTTS                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                       │
│ 1.3 Modify src/App.jsx - Language State & Switcher                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                       │
│ - Add currentLanguage state (persisted to localStorage: typingGameLanguage)                                                                                                                                                                                                                           │
│ - Add langData = getLanguageData(currentLanguage) binding                                                                                                                                                                                                                                             │
│ - Add language switcher UI in header (UA/RU toggle buttons)                                                                                                                                                                                                                                           │
│ - switchLanguage() handler: save progress, switch language, return to menu, load new progress                                                                                                                                                                                                         │
│ - Replace all direct data references with dynamic ones from langData:                                                                                                                                                                                                                                 │
│   - UKRAINIAN_KEYBOARD -> langData.keyboard                                                                                                                                                                                                                                                           │
│   - UK_TO_QWERTY -> langData.keyToQwerty                                                                                                                                                                                                                                                              │
│   - LETTER_INFO -> langData.letterInfo                                                                                                                                                                                                                                                                │
│   - LESSONS -> langData.lessons                                                                                                                                                                                                                                                                       │
│   - ALPHABET_CHALLENGE -> langData.alphabetChallenge                                                                                                                                                                                                                                                  │
│   - Hardcoded vowel array -> langData.vowels                                                                                                                                                                                                                                                          │
│   - UI text ("Learn Ukrainian Typing") -> dynamic based on langData.name                                                                                                                                                                                                                              │
│ - ~78 references to update across App.jsx                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                       │
│ 1.4 Modify src/App.jsx - Per-Language Progress                                                                                                                                                                                                                                                        │
│                                                                                                                                                                                                                                                                                                       │
│ - Use langData.storageKey for localStorage (ukrainianTypingProgress / russianTypingProgress)                                                                                                                                                                                                          │
│ - Re-run load/save when currentLanguage changes                                                                                                                                                                                                                                                       │
│ - Reset state to defaults when switching to a language with no saved progress                                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                                                                       │
│ 1.5 Modify src/hooks/useTTS.js                                                                                                                                                                                                                                                                        │
│                                                                                                                                                                                                                                                                                                       │
│ - No changes needed (Russian text goes to same Ukrainian TTS endpoint for now)                                                                                                                                                                                                                        │
│                                                                                                                                                                                                                                                                                                       │
│ 1.6 No TTS server changes                                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                       │
│ - The existing Ukrainian TTS model will process Russian text as-is (close enough for now per user preference)                                                                                                                                                                                         │
│ - Cache keys will naturally be different since the text is different                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                       │
│ ---                                                                                                                                                                                                                                                                                                   │
│ Phase 2: Component Updates                                                                                                                                                                                                                                                                            │
│                                                                                                                                                                                                                                                                                                       │
│ 2.1 Add targetField prop to mode components                                                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                                                                       │
│ Pass langData.targetField (value 'uk' or 'ru') from App.jsx to all mode components.                                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                                                                       │
│ 2.2 Update field references in components (~20 changes across 6 files)                                                                                                                                                                                                                                │
│                                                                                                                                                                                                                                                                                                       │
│ src/components/modes/FlashcardMode.jsx (4 refs):                                                                                                                                                                                                                                                      │
│ - currentWord.uk -> currentWord[targetField]                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                       │
│ src/components/modes/ListeningMode.jsx (5 refs):                                                                                                                                                                                                                                                      │
│ - currentWord.uk -> currentWord[targetField]                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                       │
│ src/components/modes/TranslationPracticeMode.jsx (3 refs):                                                                                                                                                                                                                                            │
│ - currentWord.uk / currentWord.en logic updated for dynamic field                                                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                                                                       │
│ src/components/modes/SentenceMode.jsx (2 refs):                                                                                                                                                                                                                                                       │
│ - currentSentence.uk -> currentSentence[targetField]                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                       │
│ src/components/modes/GrammarMode.jsx (2 refs):                                                                                                                                                                                                                                                        │
│ - ex.uk -> ex[targetField]                                                                                                                                                                                                                                                                            │
│                                                                                                                                                                                                                                                                                                       │
│ src/components/modes/CustomFlashcardManager.jsx (3 refs):                                                                                                                                                                                                                                             │
│ - word.uk -> word[targetField]                                                                                                                                                                                                                                                                        │
│ - Variable name newUk generalized                                                                                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                                                                       │
│ 2.3 Modify src/utils/dictionaryBuilder.js                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                       │
│ - Parameterize buildDictionary(langCode) and getAllVocabularyWords(langCode)                                                                                                                                                                                                                          │
│ - Import Russian data files when langCode === 'ru'                                                                                                                                                                                                                                                    │
│ - Use dynamic field access: word[targetField] instead of word.uk                                                                                                                                                                                                                                      │
│                                                                                                                                                                                                                                                                                                       │
│ 2.4 Modify src/utils/encouragement.js                                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                       │
│ - Add Russian encouragement arrays (ENCOURAGEMENTS_RU, MISTAKE_MESSAGES_RU)                                                                                                                                                                                                                           │
│ - Export both, let languageConfig.js select the right one                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                       │
│ 2.5 Modify src/data/achievements.js                                                                                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                                                                       │
│ - Add nameRu field to each of the 62 achievements                                                                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                                                                       │
│ ---                                                                                                                                                                                                                                                                                                   │
│ Phase 3: Russian Data Files (Full Parity)                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                       │
│ All files use the same schema as Ukrainian equivalents but with ru field instead of uk, and nameRu instead of nameUk.                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                       │
│ 3.1 Core Data                                                                                                                                                                                                                                                                                         │
│ ┌─────────────────────────────┬──────────────────────────────────────────────────────────────────┐                                                                                                                                                                                                    │
│ │            File             │                           Description                            │                                                                                                                                                                                                    │
│ ├─────────────────────────────┼──────────────────────────────────────────────────────────────────┤                                                                                                                                                                                                    │
│ │ src/data/ru/keyboard.js     │ JCUKEN layout, 33 keys                                           │                                                                                                                                                                                                    │
│ ├─────────────────────────────┼──────────────────────────────────────────────────────────────────┤                                                                                                                                                                                                    │
│ │ src/data/ru/lessons.js      │ 10 progressive lessons + alphabet challenge (33 Russian letters) │                                                                                                                                                                                                    │
│ ├─────────────────────────────┼──────────────────────────────────────────────────────────────────┤                                                                                                                                                                                                    │
│ │ src/data/ru/translations.js │ ~40 Russian-English pairs                                        │                                                                                                                                                                                                    │
│ └─────────────────────────────┴──────────────────────────────────────────────────────────────────┘                                                                                                                                                                                                    │
│ 3.2 Vocabulary (~8500 entries total)                                                                                                                                                                                                                                                                  │
│ ┌──────────────────────────────────────────────────────────────────────────────┬───────────┐                                                                                                                                                                                                          │
│ │                                     File                                     │  Entries  │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/themes/animals.json                                   │ ~20       │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/themes/colors.json                                    │ ~10       │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/themes/family.json                                    │ ~15       │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/themes/emotions.json                                  │ ~15       │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/themes/weather.json                                   │ ~12       │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/themes/travel.json                                    │ ~25       │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/themes/body.json                                      │ ~15       │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/themes/house.json                                     │ ~20       │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/comprehensive-dictionary.json                         │ ~844      │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/comprehensive-dictionary-ext.json                     │ ~734      │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/comprehensive-dictionary-ext2.json through ext11.json │ ~700 each │                                                                                                                                                                                                          │
│ ├──────────────────────────────────────────────────────────────────────────────┼───────────┤                                                                                                                                                                                                          │
│ │ src/data/ru/vocabulary/adult-vocabulary.json                                 │ ~30       │                                                                                                                                                                                                          │
│ └──────────────────────────────────────────────────────────────────────────────┴───────────┘                                                                                                                                                                                                          │
│ 3.3 Grammar (5 files)                                                                                                                                                                                                                                                                                 │
│ ┌─────────────────────────────────────┬────────────────────────────────────────────────────────────┐                                                                                                                                                                                                  │
│ │                File                 │                          Content                           │                                                                                                                                                                                                  │
│ ├─────────────────────────────────────┼────────────────────────────────────────────────────────────┤                                                                                                                                                                                                  │
│ │ src/data/ru/grammar/cases.json      │ 6 Russian cases (same count as Ukrainian, different forms) │                                                                                                                                                                                                  │
│ ├─────────────────────────────────────┼────────────────────────────────────────────────────────────┤                                                                                                                                                                                                  │
│ │ src/data/ru/grammar/verbs.json      │ Russian verb conjugation patterns                          │                                                                                                                                                                                                  │
│ ├─────────────────────────────────────┼────────────────────────────────────────────────────────────┤                                                                                                                                                                                                  │
│ │ src/data/ru/grammar/pronouns.json   │ Russian pronoun declensions                                │                                                                                                                                                                                                  │
│ ├─────────────────────────────────────┼────────────────────────────────────────────────────────────┤                                                                                                                                                                                                  │
│ │ src/data/ru/grammar/adjectives.json │ Russian adjective agreement                                │                                                                                                                                                                                                  │
│ ├─────────────────────────────────────┼────────────────────────────────────────────────────────────┤                                                                                                                                                                                                  │
│ │ src/data/ru/grammar/wordOrder.json  │ Russian word order rules                                   │                                                                                                                                                                                                  │
│ └─────────────────────────────────────┴────────────────────────────────────────────────────────────┘                                                                                                                                                                                                  │
│ 3.4 Interactive Content                                                                                                                                                                                                                                                                               │
│ ┌───────────────────────────────────────┬────────────────────────────────────┐                                                                                                                                                                                                                        │
│ │                 File                  │              Content               │                                                                                                                                                                                                                        │
│ ├───────────────────────────────────────┼────────────────────────────────────┤                                                                                                                                                                                                                        │
│ │ src/data/ru/sentences.json            │ ~15-30 sentence building exercises │                                                                                                                                                                                                                        │
│ ├───────────────────────────────────────┼────────────────────────────────────┤                                                                                                                                                                                                                        │
│ │ src/data/ru/dialogues/restaurant.json │ Restaurant dialogue                │                                                                                                                                                                                                                        │
│ ├───────────────────────────────────────┼────────────────────────────────────┤                                                                                                                                                                                                                        │
│ │ src/data/ru/dialogues/directions.json │ Directions dialogue                │                                                                                                                                                                                                                        │
│ ├───────────────────────────────────────┼────────────────────────────────────┤                                                                                                                                                                                                                        │
│ │ src/data/ru/dialogues/shopping.json   │ Shopping dialogue                  │                                                                                                                                                                                                                        │
│ ├───────────────────────────────────────┼────────────────────────────────────┤                                                                                                                                                                                                                        │
│ │ src/data/ru/dialogues/greeting.json   │ Greeting dialogue                  │                                                                                                                                                                                                                        │
│ ├───────────────────────────────────────┼────────────────────────────────────┤                                                                                                                                                                                                                        │
│ │ src/data/ru/reading/beginner.json     │ 2 beginner passages                │                                                                                                                                                                                                                        │
│ ├───────────────────────────────────────┼────────────────────────────────────┤                                                                                                                                                                                                                        │
│ │ src/data/ru/reading/intermediate.json │ 2 intermediate passages            │                                                                                                                                                                                                                        │
│ ├───────────────────────────────────────┼────────────────────────────────────┤                                                                                                                                                                                                                        │
│ │ src/data/ru/reading/advanced.json     │ 2 advanced passages                │                                                                                                                                                                                                                        │
│ └───────────────────────────────────────┴────────────────────────────────────┘                                                                                                                                                                                                                        │
│ Total: ~30 new data files                                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                       │
│ ---                                                                                                                                                                                                                                                                                                   │
│ Phase 4: Implementation Order                                                                                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                                                                       │
│ 1. Language config + keyboard - languageConfig.js, ru/keyboard.js                                                                                                                                                                                                                                     │
│ 2. App.jsx language switching - state, switcher UI, dynamic data bindings, per-language progress                                                                                                                                                                                                      │
│ 3. Component updates - targetField prop threading, .uk -> [targetField]                                                                                                                                                                                                                               │
│ 4. Russian lessons - ru/lessons.js, ru/translations.js                                                                                                                                                                                                                                                │
│ 5. Encouragement + achievements - Russian strings                                                                                                                                                                                                                                                     │
│ 6. Dictionary builder - language-aware parameterization                                                                                                                                                                                                                                               │
│ 7. Themed vocabulary - 8 Russian theme files                                                                                                                                                                                                                                                          │
│ 8. Comprehensive dictionaries - 12 Russian dictionary files (~8500 entries)                                                                                                                                                                                                                           │
│ 9. Grammar - 5 Russian grammar files                                                                                                                                                                                                                                                                  │
│ 10. Sentences - ru/sentences.json                                                                                                                                                                                                                                                                     │
│ 11. Dialogues - 4 Russian dialogue files                                                                                                                                                                                                                                                              │
│ 12. Reading passages - 3 Russian reading level files                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                       │
│ ---                                                                                                                                                                                                                                                                                                   │
│ Critical Files to Modify                                                                                                                                                                                                                                                                              │
│ ┌──────────────────────────────────────────────────┬────────────────────────────────────────────────────┐                                                                                                                                                                                             │
│ │                       File                       │                    Change Scope                    │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/App.jsx                                      │ ~100 line modifications (state, UI, data bindings) │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/components/modes/FlashcardMode.jsx           │ ~4 line changes                                    │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/components/modes/ListeningMode.jsx           │ ~5 line changes                                    │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/components/modes/TranslationPracticeMode.jsx │ ~3 line changes                                    │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/components/modes/SentenceMode.jsx            │ ~2 line changes                                    │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/components/modes/GrammarMode.jsx             │ ~2 line changes                                    │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/components/modes/CustomFlashcardManager.jsx  │ ~3 line changes                                    │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/utils/dictionaryBuilder.js                   │ ~20 line changes                                   │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/utils/encouragement.js                       │ ~15 new lines                                      │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/data/achievements.js                         │ Add nameRu to 62 entries                           │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ src/hooks/useTTS.js                              │ No changes (reuse Ukrainian model)                 │                                                                                                                                                                                             │
│ ├──────────────────────────────────────────────────┼────────────────────────────────────────────────────┤                                                                                                                                                                                             │
│ │ tts-server.py                                    │ No changes                                         │                                                                                                                                                                                             │
│ └──────────────────────────────────────────────────┴────────────────────────────────────────────────────┘                                                                                                                                                                                             │
│ ---                                                                                                                                                                                                                                                                                                   │
│ Verification Plan                                                                                                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                                                                       │
│ 1. Language switch: Toggle UA/RU in header, verify menu updates with correct language name and flag                                                                                                                                                                                                   │
│ 2. Keyboard explore: Switch to Russian, open explore mode, verify all 33 Russian keys display correctly with correct QWERTY mappings                                                                                                                                                                  │
│ 3. Lessons: Complete a Russian lesson, verify Russian letters/words appear, XP is awarded                                                                                                                                                                                                             │
│ 4. Alphabet speed run: Run the Russian alphabet (33 letters а-я including ё, ъ, ы, э)                                                                                                                                                                                                                 │
│ 5. Flashcards: Open a Russian themed vocabulary set, verify cards show Russian words with translations                                                                                                                                                                                                │
│ 6. Progress isolation: Earn XP in Russian, switch to Ukrainian, verify Ukrainian progress is separate and unchanged                                                                                                                                                                                   │
│ 7. TTS: Click speak buttons in Russian mode, verify audio plays (will sound Ukrainian-accented but functional)                                                                                                                                                                                        │
│ 8. All modes: Test translator, listening, translation practice, grammar, sentences, dialogues, reading in Russian                                                                                                                                                                                     │
│ 9. Persistence: Refresh page, verify selected language and progress are restored                 